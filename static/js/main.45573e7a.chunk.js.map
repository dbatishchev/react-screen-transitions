{"version":3,"sources":["components/ArtistDetails/Header/Header.module.css","components/ArtistDetails/TrackList/Track/Track.module.css","components/Artists/Artists.module.css","components/ArtistDetails/TrackList/TrackList.module.css","components/ArtistDetails/AlbumList/Album/Album.module.css","components/ArtistDetails/Content/Content.module.css","components/ArtistDetails/AlbumList/AlbumList.module.css","components/ArtistDetails/ArtistDetails.module.css","components/Artists/ArtistPhoto/ArtistPhoto.module.css","services/SpotifyAPI.js","components/ArtistDetails/Content/Content.js","utils/formatDuration.js","components/ArtistDetails/TrackList/Track/Track.js","components/ArtistDetails/TrackList/TrackList.js","components/ArtistDetails/AlbumList/Album/Album.js","components/ArtistDetails/AlbumList/AlbumList.js","components/ArtistDetails/Header/Header.js","components/ArtistDetails/ArtistDetails.js","components/Artists/ArtistPhoto/ArtistPhoto.js","components/Artists/Artists.js","components/App/App.js","index.js"],"names":["module","exports","SPOTIFY_API_BASE_URL","SPOTIFY_API_VERSION","SpotifyAPI","window","location","replace","process","encodeURIComponent","token","fetch","headers","Authorization","then","res","json","checkErrors","artistId","response","error","status","localStorage","setItem","reload","Content","children","className","styles","container","content","formatDuration","ms","n","secs","m","Math","floor","s","String","Track","track","image","src","album","images","url","alt","name","title","duration","duration_ms","TrackList","tracks","trackList","heading","map","r","id","defaultProps","Album","AlbumList","albums","a","Header","artist","onBackClick","header","backButton","onClick","role","tabIndex","width","height","viewBox","xmlns","fill","d","imageWrapper","headerImage","artistDescription","tags","genres","join","ArtistDetails","artists","history","match","useState","topTracks","setTopTracks","setAlbums","useEffect","state","position","x","left","y","top","document","documentElement","style","setProperty","params","fetchTopTracks","fetchAlbums","items","replaceState","scrollTo","handleGoBackClick","useCallback","push","useMemo","find","withRouter","ArtistPhoto","imgRef","useRef","handleClick","el","current","getBoundingClientRect","opacity","ref","Artists","rootEl","length","tiles","tile","tileSlideIn","App","topArtists","setTopArtists","fetchTopArtists","topArtistsResponse","TransitionGroup","CSSTransition","timeout","classNames","exact","path","render","key","getItem","hash","substring","split","forEach","hk","k","v","access_token","redirectToAuthPage","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.45573e7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Oor9\",\"backButton\":\"Header_backButton__31WVN\",\"fade-in\":\"Header_fade-in__YjHW-\",\"artistDescription\":\"Header_artistDescription__Jt2LH\",\"slide-right\":\"Header_slide-right__lpae1\",\"name\":\"Header_name__1MB1l\",\"tags\":\"Header_tags__3qgjW\",\"imageWrapper\":\"Header_imageWrapper__3VANy\",\"move-image\":\"Header_move-image__25wRK\",\"headerImage\":\"Header_headerImage__2BKV5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"Track_track__3Lx9B\",\"image\":\"Track_image__GwDT_\",\"title\":\"Track_title__21e0f\",\"album\":\"Track_album__3hQ1r\",\"duration\":\"Track_duration__1Ta1Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"artists\":\"Artists_artists__1C-oa\",\"tiles\":\"Artists_tiles__3Ai_L\",\"tile\":\"Artists_tile__2gIui\",\"tileSlideIn\":\"Artists_tileSlideIn__1T-9S\",\"tile-move\":\"Artists_tile-move__1AzJJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trackList\":\"TrackList_trackList__PALIU\",\"heading\":\"TrackList_heading__1UEyz\",\"track\":\"TrackList_track__wPwH1\",\"stagger\":\"TrackList_stagger__3xh8K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"album\":\"Album_album__11Wlq\",\"image\":\"Album_image__3ABNo\",\"title\":\"Album_title__15Slk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Content_container__1ZpXd\",\"content\":\"Content_content__3Mf_X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AlbumList_container__u-AV9\",\"album\":\"AlbumList_album__33TvW\",\"scale-up\":\"AlbumList_scale-up__1I8AO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ArtistDetails_container__3RyKe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ArtistPhoto_image__2s33E\"};","// todo jsdocs\n// todo drop classes\n\nconst SPOTIFY_API_BASE_URL = 'https://api.spotify.com';\nconst SPOTIFY_API_VERSION = 'v1';\n\nexport default class SpotifyAPI {\n  static redirectToAuthPage() {\n    window.location.replace(`https://accounts.spotify.com/authorize?scope=user-top-read&response_type=token&client_id=${process.env.REACT_APP_CLIENT_ID}&redirect_uri=${encodeURIComponent(process.env.REACT_APP_REDIRECT_URI)}`);\n  }\n\n  static fetchTopArtists(token) {\n    return fetch(`${SPOTIFY_API_BASE_URL}/${SPOTIFY_API_VERSION}/me/top/artists?limit=100&time_range=long_term`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }).then((res) => res.json())\n      .then(SpotifyAPI.checkErrors);\n  }\n\n  static fetchTopTracks(artistId, token) {\n    return fetch(`${SPOTIFY_API_BASE_URL}/${SPOTIFY_API_VERSION}/artists/${artistId}/top-tracks?country=US`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => res.json())\n      .then(SpotifyAPI.checkErrors);\n  }\n\n  static fetchAlbums(artistId, token) {\n    return fetch(`${SPOTIFY_API_BASE_URL}/${SPOTIFY_API_VERSION}/artists/${artistId}/albums?limit=5`, { // todo raise the limit\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => res.json())\n      .then(SpotifyAPI.checkErrors);\n  }\n\n  /**\n   * @private\n   */\n  static checkErrors(response) {\n    if (response.error && response.error.status === 401) {\n      localStorage.setItem('token', null);\n      window.location.reload();\n    }\n\n    return response;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Content.module.css';\n\nexport default function Content({ children }) {\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nContent.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","/**\n * @param {number} n\n * @return {string}\n */\nfunction pad(n) {\n  return String(n < 10 ? `0${n}` : n);\n}\n\n/**\n * @param {number} ms\n * @return {string}\n */\nexport default function formatDuration(ms) {\n  const secs = ms / 1000;\n\n  const m = Math.floor(secs / 60);\n  const s = Math.floor(secs - m * 60);\n\n  return `${m}:${pad(s)}`;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Track.module.css';\nimport formatDuration from '../../../../utils/formatDuration';\n\nexport default function Track({ track, className }) {\n  return (\n    <div className={`${styles.track} ${className}`}>\n      <img className={styles.image} src={track.album.images[2].url} alt={`${track.name} ${track.album.name}`} />\n      <span>\n        <span className={styles.title}>{track.name}</span>\n        <span className={styles.album}>{track.album.name}</span>\n      </span>\n      <span className={styles.duration}>{formatDuration(track.duration_ms)}</span>\n    </div>\n  );\n}\n\nTrack.propTypes = {\n  track: PropTypes.object.isRequired,\n  className: PropTypes.string,\n};\n\nTrack.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TrackList.module.css';\nimport Track from './Track/Track';\n\nexport default function TrackList({ tracks }) {\n  return (\n    <div className={styles.trackList}>\n      <h2 className={styles.heading}>Popular</h2>\n      <div>\n        {tracks && tracks.map((r) => (\n          <Track\n            key={r.id}\n            track={r}\n            className={styles.track}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nTrackList.propTypes = {\n  tracks: PropTypes.array,\n};\n\nTrackList.defaultProps = {\n  tracks: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Album.module.css';\n\nexport default function Album({ album, className }) {\n  return (\n    <div className={`${styles.album} ${className}`}>\n      <img className={styles.image} src={album.images[1].url} alt={album.name} />\n      <span className={styles.title}>{album.name}</span>\n    </div>\n  );\n}\n\nAlbum.propTypes = {\n  album: PropTypes.object.isRequired,\n  className: PropTypes.string,\n};\n\nAlbum.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './AlbumList.module.css';\nimport Album from './Album/Album';\n\nexport default function AlbumList({ albums }) {\n  return (\n    <div className={styles.container}>\n      {albums && albums.map((a) => (\n        <Album\n          album={a}\n          key={a.id}\n          className={styles.album}\n        />\n      ))}\n    </div>\n  );\n}\n\nAlbumList.propTypes = {\n  albums: PropTypes.arrayOf(PropTypes.object), // todo\n};\n\nAlbumList.defaultProps = {\n  albums: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Header.module.css';\n\nexport default function Header({ artist, onBackClick }) {\n  return (\n    <div className={styles.header}>\n      <span className={styles.backButton} onClick={onBackClick} role=\"button\" tabIndex={0}>\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill=\"#FFF\" d=\"M24 10.5H5.7l8.4-8.4L12 0 0 12l12 12 2.1-2.1-8.4-8.4H24z\" />\n        </svg>\n      </span>\n      <div className={styles.imageWrapper}>\n        <img className={styles.headerImage} src={artist.images[0].url} alt={artist.name} />\n      </div>\n      <div className={styles.artistDescription}>\n        <div className={styles.name}>{artist.name}</div>\n        <div className={styles.tags}>{artist.genres.join(', ')}</div>\n      </div>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  artist: PropTypes.object.isRequired,\n  onBackClick: PropTypes.func.isRequired,\n};\n","import React, {\n  useCallback, useEffect, useMemo, useState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport SpotifyAPI from '../../services/SpotifyAPI';\nimport Content from './Content/Content';\nimport TrackList from './TrackList/TrackList';\nimport AlbumList from './AlbumList/AlbumList';\nimport Header from './Header/Header';\nimport styles from './ArtistDetails.module.css';\n\nfunction ArtistDetails({\n  artists, history, location, match, token,\n}) {\n  const [topTracks, setTopTracks] = useState(null);\n  const [albums, setAlbums] = useState(null);\n\n  useEffect(() => {\n    if (location && location.state && location.state.position) {\n      const { left, top } = location.state.position;\n      const offsetLeft = 100;\n      const offsetTop = 30;\n      const x = left - offsetLeft;\n      const y = top - offsetTop;\n\n      document.documentElement.style.setProperty('--translate-header-image', `translate(${x}px, ${y}px) scale(0.792)`);\n    }\n  }, []);\n\n  useEffect(() => {\n    const artistId = match.params.id;\n\n    SpotifyAPI.fetchTopTracks(artistId, token).then(({ tracks }) => {\n      setTopTracks(tracks);\n    });\n\n    SpotifyAPI.fetchAlbums(artistId, token).then(({ items }) => {\n      setAlbums(items);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (location.state) {\n      window.history.replaceState(null, '');\n    }\n\n    window.scrollTo(0, 0);\n  }, []);\n\n  const handleGoBackClick = useCallback((() => {\n    history.push('/', {\n      position: location.state ? location.state.position : null,\n      artistId: location.state ? location.state.artistId : null,\n    });\n  }), [location, history]);\n\n  const artist = useMemo(\n    () => (artists ? artists.find((a) => a.id === match.params.id) : null),\n    [artists, match.params.id],\n  );\n\n  if (!artist) {\n    return null;\n  }\n\n  return (\n    <div className={styles.container}>\n      <Header artist={artist} onBackClick={handleGoBackClick} />\n      <Content>\n        <AlbumList albums={albums} />\n        <TrackList tracks={topTracks} />\n      </Content>\n    </div>\n  );\n}\n\nArtistDetails.propTypes = {\n  artists: PropTypes.array,\n  token: PropTypes.string.isRequired, // todo move outside\n  match: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\nArtistDetails.defaultProps = {\n  artists: null,\n};\n\nexport default withRouter(ArtistDetails);\n","import React, { useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport styles from './ArtistPhoto.module.css';\n\nfunction ArtistPhoto({ artist, history, className }) {\n  const imgRef = useRef(null);\n\n  const handleClick = useCallback((() => {\n    const el = imgRef.current;\n    const { x, y } = el.getBoundingClientRect();\n    const position = { left: x, top: y };\n    history.push(`/artist/${artist.id}`, { position, artistId: artist.id });\n\n    el.style.opacity = 0;\n  }), [artist, imgRef.current]);\n\n  return (\n    <img\n      className={`${styles.image} ${className}`}\n      src={artist.images[0].url}\n      onClick={handleClick}\n      ref={imgRef}\n      alt={artist.name}\n    />\n  );\n}\n\nArtistPhoto.propTypes = {\n  artist: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n  className: PropTypes.string,\n};\n\nArtistPhoto.defaultProps = {\n  className: '',\n};\n\nexport default withRouter(ArtistPhoto);\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport ArtistPhoto from './ArtistPhoto/ArtistPhoto';\nimport styles from './Artists.module.css';\n\nfunction Artists({ location, artists }) {\n  useEffect(() => {\n    if (!location || !location.state || !location.state.position || !location.state.artistId) {\n      return;\n    }\n\n    const rootEl = document.documentElement;\n    const { top, left } = location.state.position;\n\n    const offsetLeft = 100;\n    const offsetTop = 30;\n\n    const x = -(left - offsetLeft);\n    const y = -(top - offsetTop);\n    rootEl.style.setProperty('--translate-tile', `translate(${x}px, ${y}px) scale(1.2632)`);\n\n    if (location.state) {\n      window.history.replaceState(null, '');\n    }\n  }, []);\n\n  if (!artists) {\n    return null;\n  }\n\n  if (artists.length === 0) {\n    return 'Nothing Found';\n  }\n\n  const artistId = location && location.state ? location.state.artistId : null;\n\n  return (\n    <div className={styles.artists}>\n      <div className={styles.tiles}>\n        {artists.map((a) => (\n          <ArtistPhoto\n            artist={a}\n            className={`${styles.tile} ${a.id === artistId ? styles.tileSlideIn : ''}`}\n            key={a.id}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nArtists.propTypes = {\n  artists: PropTypes.array,\n  location: PropTypes.object.isRequired,\n};\n\nArtists.defaultProps = {\n  artists: null,\n};\n\nexport default withRouter(Artists);\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport SpotifyAPI from '../../services/SpotifyAPI';\nimport ArtistDetails from '../ArtistDetails/ArtistDetails';\nimport Artists from '../Artists/Artists';\nimport './App.module.css';\n\nfunction App({ location, token }) {\n  const [topArtists, setTopArtists] = useState(null);\n\n  useEffect(() => {\n    if (!token) {\n      return;\n    }\n\n    SpotifyAPI.fetchTopArtists(token).then((topArtistsResponse) => {\n      setTopArtists(topArtistsResponse.items);\n    });\n  }, []);\n\n  if (!token) {\n    return null;\n  }\n\n  return (\n    <TransitionGroup>\n      <CSSTransition timeout={800} classNames=\"main\" key={location.key}>\n        <Switch location={location}>\n          <Route exact path=\"/\" render={() => <Artists artists={topArtists} token={token} />} />\n          <Route exact path=\"/artist/:id\" render={() => <ArtistDetails artists={topArtists} token={token} />} />\n        </Switch>\n      </CSSTransition>\n    </TransitionGroup>\n  );\n}\n\nApp.propTypes = {\n  token: PropTypes.string,\n  location: PropTypes.object.isRequired,\n};\n\nApp.defaultProps = {\n  token: null,\n};\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport SpotifyAPI from './services/SpotifyAPI';\nimport App from './components/App/App';\n\nlet token = localStorage.getItem('token');\n\nif (!token || token === 'null') {\n  const hash = window.location.hash.substring(1);\n  const params = {};\n\n  hash.split('&').forEach((hk) => {\n    const [k, v] = hk.split('=');\n    params[k] = v;\n  });\n\n  token = params.access_token;\n\n  if (token) {\n    localStorage.setItem('token', token);\n  }\n\n  if (!token) {\n    SpotifyAPI.redirectToAuthPage();\n  }\n}\n\nReactDOM.render((\n  <Router>\n    <App token={token} />\n  </Router>\n), document.getElementById('root'));\n"],"sourceRoot":""}